<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Powered Tech Career Discovery | UC Davis</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* =============================================================================
           MODERN TECH CAREER QUIZ - COMPLETE STYLING
           =============================================================================
        */
        
        :root {
            --primary: #6366f1;
            --primary-light: #8b5cf6;
            --secondary: #06b6d4;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --text-muted: #9ca3af;
            
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #e2e8f0;
            
            --border-light: #e5e7eb;
            --border-medium: #d1d5db;
            
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
            
            --radius-sm: 6px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --radius-2xl: 24px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        /* =============================================================================
           QUIZ HEADER
           =============================================================================
        */
        
        .quiz-header {
            text-align: center;
            margin-bottom: 3rem;
            color: white;
        }
        
        .quiz-header h1 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #ffffff, #e2e8f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .quiz-header p {
            font-size: 1.25rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            font-weight: 500;
        }
        
        .research-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 0.5rem 1rem;
            border-radius: var(--radius-2xl);
            margin-top: 1rem;
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        /* =============================================================================
           PROGRESS BAR
           =============================================================================
        */
        
        .progress-section {
            margin-bottom: 2rem;
        }
        
        .progress-container {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: var(--radius-2xl);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .progress-text {
            text-align: center;
            color: white;
            margin-bottom: 1rem;
            font-weight: 600;
            font-size: 1.125rem;
        }
        
        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success), var(--secondary));
            border-radius: 4px;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            width: 0%;
        }
        
        /* =============================================================================
           QUESTION CARD
           =============================================================================
        */
        
        .question-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: var(--radius-2xl);
            padding: 3rem;
            box-shadow: var(--shadow-xl);
            margin-bottom: 2rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .question-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
        }
        
        .question-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }
        
        .question-type {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            padding: 0.5rem 1rem;
            border-radius: var(--radius-2xl);
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        .question-title {
            font-size: 1.875rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--text-primary);
            line-height: 1.3;
        }
        
        .question-subtitle {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }
        
        .question-context {
            font-size: 0.875rem;
            color: var(--text-muted);
            font-style: italic;
            background: var(--bg-secondary);
            padding: 0.75rem 1rem;
            border-radius: var(--radius-lg);
            border-left: 4px solid var(--primary);
        }
        
        /* =============================================================================
           MULTIPLE CHOICE OPTIONS
           =============================================================================
        */
        
        .options-grid {
            display: grid;
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .option {
            background: var(--bg-primary);
            border: 2px solid var(--border-light);
            border-radius: var(--radius-xl);
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            transform: scaleX(0);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .option:hover {
            border-color: var(--primary);
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }
        
        .option:hover::before {
            transform: scaleX(1);
        }
        
        .option.selected {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(255, 255, 255, 0.95));
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .option.selected::before {
            transform: scaleX(1);
        }
        
        .option-visual {
            font-size: 3rem;
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .option-content h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }
        
        .option-content p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }
        
        .option-trend {
            display: inline-block;
            background: linear-gradient(135deg, var(--success), #059669);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-2xl);
            font-size: 0.75rem;
            font-weight: 600;
            margin-top: 0.75rem;
        }
        
        .option-characteristics {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .characteristic-tag {
            background: rgba(99, 102, 241, 0.1);
            color: var(--primary);
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-2xl);
            font-size: 0.75rem;
            font-weight: 500;
            border: 1px solid rgba(99, 102, 241, 0.2);
        }
        
        /* =============================================================================
           SCALE QUESTIONS
           =============================================================================
        */
        
        .scale-container {
            margin: 2rem 0;
            text-align: center;
        }
        
        .scale-labels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            font-weight: 500;
            color: var(--text-secondary);
        }
        
        .scale-input-container {
            margin: 2rem 0;
            position: relative;
        }
        
        .scale-slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: var(--bg-tertiary);
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
        }
        
        .scale-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            cursor: pointer;
            box-shadow: var(--shadow-md);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .scale-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: var(--shadow-lg);
        }
        
        .scale-description {
            background: var(--bg-secondary);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: 1rem;
            margin: 1rem 0;
            font-size: 0.95rem;
            color: var(--text-secondary);
            min-height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .scale-value {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-2xl);
            font-size: 1.125rem;
            font-weight: 600;
            margin-top: 1rem;
            box-shadow: var(--shadow-md);
        }
        
        /* =============================================================================
           TEXT INPUT
           =============================================================================
        */
        
        .text-container {
            margin: 2rem 0;
        }
        
        .text-input {
            width: 100%;
            min-height: 120px;
            padding: 1rem;
            border: 2px solid var(--border-light);
            border-radius: var(--radius-lg);
            background: var(--bg-primary);
            font-size: 1rem;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .text-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }
        
        .text-input::placeholder {
            color: var(--text-muted);
        }
        
        .text-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 0.5rem;
            font-size: 0.875rem;
        }
        
        .char-counter {
            color: var(--text-muted);
        }
        
        .text-hint {
            color: var(--primary);
            font-style: italic;
        }
        
        /* =============================================================================
           RANKING QUESTIONS
           =============================================================================
        */
        
        .ranking-container {
            margin: 2rem 0;
        }
        
        .ranking-instructions {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: var(--radius-lg);
            padding: 1rem;
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 0.95rem;
            color: var(--text-secondary);
        }
        
        .ranking-labels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-secondary);
        }
        
        .rank-label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .ranking-list {
            min-height: 300px;
            background: var(--bg-secondary);
            border: 2px dashed var(--border-medium);
            border-radius: var(--radius-lg);
            padding: 1rem;
        }
        
        .ranking-item {
            background: var(--bg-primary);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: 1rem;
            margin-bottom: 0.75rem;
            cursor: grab;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: var(--shadow-sm);
        }
        
        .ranking-item:hover {
            transform: translateX(8px);
            box-shadow: var(--shadow-md);
            border-color: var(--primary);
        }
        
        .ranking-item.dragging {
            opacity: 0.7;
            transform: rotate(2deg) scale(1.02);
            cursor: grabbing;
            z-index: 1000;
            box-shadow: var(--shadow-xl);
        }
        
        .ranking-number {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.875rem;
            flex-shrink: 0;
        }
        
        .ranking-content {
            flex: 1;
        }
        
        .ranking-content h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: var(--text-primary);
        }
        
        .ranking-content p {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }
        
        .ranking-grip {
            color: var(--text-muted);
            font-size: 1.25rem;
            cursor: grab;
        }
        
        /* =============================================================================
           NAVIGATION BUTTONS
           =============================================================================
        */
        
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-light);
        }
        
        .nav-button {
            padding: 0.75rem 2rem;
            border-radius: var(--radius-2xl);
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            min-width: 120px;
        }
        
        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .nav-button.primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            box-shadow: var(--shadow-md);
        }
        
        .nav-button.primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .nav-button.secondary {
            background: var(--bg-primary);
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .nav-button.secondary:hover:not(:disabled) {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }
        
        .question-timer {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: var(--radius-2xl);
            font-weight: 600;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', monospace;
        }
        
        /* =============================================================================
           LOADING SCREEN
           =============================================================================
        */
        
        .loading-screen {
            text-align: center;
            padding: 4rem 2rem;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 2rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-content h2 {
            color: white;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        
        .loading-text {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.125rem;
            margin-bottom: 2rem;
        }
        
        .loading-progress {
            max-width: 400px;
            margin: 0 auto;
        }
        
        .loading-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .loading-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success), var(--secondary), var(--primary));
            border-radius: 4px;
            animation: loadingProgress 3s ease-in-out infinite;
        }
        
        @keyframes loadingProgress {
            0% { width: 0%; }
            50% { width: 70%; }
            100% { width: 100%; }
        }
        
        /* =============================================================================
           RESULTS SCREEN
           =============================================================================
        */
        
        .results-screen {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .results-header {
            text-align: center;
            margin-bottom: 3rem;
            color: white;
        }
        
        .results-header h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }
        
        .results-header p {
            font-size: 1.25rem;
            opacity: 0.9;
        }
        
        .top-match-card {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            border-radius: var(--radius-2xl);
            padding: 3rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-xl);
        }
        
        .match-layout {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            align-items: center;
        }
        
        .match-left h2 {
            font-size: 1.25rem;
            opacity: 0.9;
            margin-bottom: 1rem;
            font-weight: 500;
        }
        
        .match-left h3 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }
        
        .match-left p {
            font-size: 1.125rem;
            opacity: 0.9;
            line-height: 1.6;
        }
        
        .match-right {
            text-align: center;
        }
        
        .confidence-badge {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: var(--radius-2xl);
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: inline-block;
        }
        
        .percentage-circle {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto;
        }
        
        .progress-ring {
            transform: rotate(-90deg);
        }
        
        .progress-ring__circle {
            stroke-dasharray: 377;
            stroke-dashoffset: 377;
            transition: stroke-dashoffset 1.5s ease-in-out;
        }
        
        .percentage-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5rem;
            font-weight: 800;
            color: white;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .result-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: var(--radius-2xl);
            padding: 2rem;
            box-shadow: var(--shadow-lg);
        }
        
        .result-card h3 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .card-icon {
            font-size: 1.5rem;
        }
        
        .next-steps-list {
            display: grid;
            gap: 1rem;
        }
        
        .step-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            border-left: 4px solid var(--primary);
        }
        
        .step-number {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.75rem;
            flex-shrink: 0;
        }
        
        .step-content {
            flex: 1;
        }
        
        .step-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }
        
        .step-description {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }
        
        .insights-list {
            display: grid;
            gap: 1rem;
        }
        
        .insight-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
        }
        
        .insight-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }
        
        .insight-content h4 {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }
        
        .insight-content p {
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }
        
        .career-matches {
            display: grid;
            gap: 0.75rem;
        }
        
        .match-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
        }
        
        .match-info h4 {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }
        
        .match-info p {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }
        
        .match-score {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            margin-top: 3rem;
        }
        
        .action-button {
            padding: 0.75rem 2rem;
            border-radius: var(--radius-2xl);
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .action-button.primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            box-shadow: var(--shadow-md);
        }
        
        .action-button.primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .action-button.secondary {
            background: rgba(255, 255, 255, 0.9);
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .action-button.secondary:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }
        
        /* =============================================================================
           RESPONSIVE DESIGN
           =============================================================================
        */
        
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .quiz-header h1 {
                font-size: 2rem;
            }
            
            .question-card {
                padding: 2rem;
            }
            
            .question-title {
                font-size: 1.5rem;
            }
            
            .match-layout {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 1.5rem;
            }
            
            .results-grid {
                grid-template-columns: 1fr;
            }
            
            .scale-labels {
                flex-direction: column;
                gap: 0.5rem;
                text-align: center;
            }
            
            .navigation {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-button {
                width: 100%;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .action-button {
                width: 100%;
                max-width: 300px;
                text-align: center;
            }
        }
        
        /* =============================================================================
           ANIMATIONS
           =============================================================================
        */
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }
        
        .slide-in-left {
            animation: slideInLeft 0.5s ease-out;
        }
        
        /* Hide screens by default */
        .screen {
            display: none;
        }
        
        .screen.active {
            display: block;
            animation: fadeInUp 0.6s ease-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Introduction Screen -->
        <div id="intro-screen" class="screen active">
            <div class="quiz-header">
                <h1>AI-Powered Tech Career Discovery</h1>
                <p>Discover your perfect tech career path with our research-backed assessment powered by artificial intelligence</p>
                <div class="research-badge">
                    <span>🧠</span>
                    Research-backed • AI-enhanced • UC Davis focused
                </div>
            </div>
            
            <div class="question-card">
                <div class="question-header">
                    <h2>Ready to discover your ideal tech career?</h2>
                    <p>This comprehensive assessment uses the latest research in occupational psychology and AI analysis to provide personalized career recommendations.</p>
                </div>
                
                <div class="options-grid">
                    <div class="option" onclick="startQuiz()">
                        <div class="option-visual">🚀</div>
                        <div class="option-content">
                            <h3>Start Career Assessment</h3>
                            <p>10 research-backed questions designed to understand your work style, interests, and career values</p>
                        </div>
                        <div class="option-trend">~8-12 minutes</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 2rem; color: #6b7280; font-size: 0.875rem;">
                    <p>✨ Powered by OpenAI • 📊 Based on 2024 industry research • 🎯 Tailored for UC Davis students</p>
                </div>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="screen">
            <div class="progress-section">
                <div class="progress-container">
                    <div class="progress-text">
                        Question <span id="current-question">1</span> of <span id="total-questions">10</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-header">
                    <div class="question-type" id="question-type">Scenario Question</div>
                    <h1 class="question-title" id="question-title">Loading question...</h1>
                    <p class="question-subtitle" id="question-subtitle"></p>
                    <div class="question-context" id="question-context"></div>
                </div>

                <div id="question-content">
                    <!-- Question content will be dynamically inserted here -->
                </div>

                <div class="navigation">
                    <button class="nav-button secondary" id="prev-btn" onclick="previousQuestion()" disabled>← Previous</button>
                    <div class="question-timer" id="question-timer">0:00</div>
                    <button class="nav-button primary" id="next-btn" onclick="nextQuestion()" disabled>Next →</button>
                </div>
            </div>
        </div>

        <!-- Loading Screen -->
        <div id="loading-screen" class="screen">
            <div class="loading-screen">
                <div class="loading-spinner"></div>
                <div class="loading-content">
                    <h2>Analyzing Your Responses</h2>
                    <p class="loading-text" id="loading-text">Our AI is processing your answers to find your perfect tech career match...</p>
                    <div class="loading-progress">
                        <div class="loading-bar">
                            <div class="loading-fill"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" class="screen">
            <div class="results-screen">
                <div class="results-header">
                    <h1>Your AI Career Analysis</h1>
                    <p>Based on your responses, here are your personalized tech career recommendations</p>
                </div>

                <div class="top-match-card">
                    <div class="match-layout">
                        <div class="match-left">
                            <h2>Your top career match is</h2>
                            <h3 id="top-career-name">Software Engineer</h3>
                            <p id="top-career-description">Based on your responses, this career aligns perfectly with your interests, work style, and values.</p>
                        </div>
                        <div class="match-right">
                            <div class="confidence-badge">AI Analyzed</div>
                            <div class="percentage-circle">
                                <svg class="progress-ring" width="120" height="120">
                                    <circle cx="60" cy="60" r="52" stroke="rgba(255, 255, 255, 0.3)" stroke-width="8" fill="transparent"/>
                                    <circle class="progress-ring__circle" cx="60" cy="60" r="52" stroke="#ffffff" stroke-width="8" fill="transparent"/>
                                </svg>
                                <div class="percentage-text" id="match-percentage">85%</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="results-grid">
                    <div class="result-card">
                        <h3><span class="card-icon">🎯</span> Next Steps</h3>
                        <div class="next-steps-list" id="next-steps-list">
                            <!-- Next steps will be populated here -->
                        </div>
                    </div>

                    <div class="result-card">
                        <h3><span class="card-icon">🧠</span> AI Insights</h3>
                        <div class="insights-list" id="insights-list">
                            <!-- Insights will be populated here -->
                        </div>
                    </div>

                    <div class="result-card">
                        <h3><span class="card-icon">📊</span> Career Matches</h3>
                        <div class="career-matches" id="career-matches">
                            <!-- Career matches will be populated here -->
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="action-button primary" onclick="shareResults()">🔗 Share Results</button>
                    <button class="action-button secondary" onclick="retakeQuiz()">🔄 Retake Quiz</button>
                    <button class="action-button secondary" onclick="exploreMore()">🎓 Explore UC Davis Programs</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // =============================================================================
        // ENHANCED QUIZ LOGIC - COMPLETE STANDALONE IMPLEMENTATION
        // =============================================================================

        // Quiz state management
        const QuizState = {
            currentScreen: 'intro',
            currentQuestionIndex: 0,
            answers: [],
            startTime: null,
            questionStartTime: null,
            results: null,
            questions: [
                {
                    id: 1,
                    type: "scenario",
                    category: "problem_solving",
                    question: "You're debugging a production issue at 2 AM. The system is down, affecting thousands of users. What's your first instinct?",
                    subtitle: "Your response reveals your problem-solving style and stress management approach",
                    context: "Research shows that stress response patterns are highly predictive of career satisfaction",
                    options: [
                        {
                            id: "systematic",
                            title: "Create a systematic debugging plan",
                            description: "Check logs methodically, identify patterns, work through likely causes step-by-step",
                            weights: { "software_engineering": 3, "devops": 3, "cybersecurity": 2 }
                        },
                        {
                            id: "collaborative",
                            title: "Immediately coordinate with your team",
                            description: "Call team lead, get multiple people working on different aspects simultaneously",
                            weights: { "product_management": 3, "devops": 2, "startup_founder": 2 }
                        },
                        {
                            id: "user_focused",
                            title: "Set up emergency fallbacks first",
                            description: "Prioritize user impact mitigation, then investigate root cause systematically",
                            weights: { "product_management": 3, "ux_design": 2, "devops": 2 }
                        },
                        {
                            id: "intuitive",
                            title: "Trust your experience and dive in",
                            description: "Use intuition to identify the most likely issue and test hypothesis quickly",
                            weights: { "startup_founder": 3, "software_engineering": 2, "cybersecurity": 1 }
                        }
                    ]
                },
                {
                    id: 2,
                    type: "visual_preference",
                    category: "motivation",
                    question: "Which end result gets you most excited?",
                    subtitle: "Visual preferences reveal your core motivations and intrinsic drivers",
                    context: "Psychology research shows visual choices strongly correlate with career satisfaction",
                    options: [
                        {
                            id: "elegant_code",
                            visual: "🏗️",
                            title: "Elegant, Scalable Code Architecture",
                            description: "Beautiful code that other engineers admire and can easily extend",
                            weights: { "software_engineering": 3, "devops": 2 }
                        },
                        {
                            id: "user_delight",
                            visual: "😍",
                            title: "Users Loving Your Product",
                            description: "Seeing real people's lives improved by what you built",
                            weights: { "ux_design": 3, "product_management": 3, "startup_founder": 2 }
                        },
                        {
                            id: "data_insights",
                            visual: "📊",
                            title: "Discovering Hidden Patterns",
                            description: "Uncovering insights that change how the business operates",
                            weights: { "data_science": 3, "product_management": 2 }
                        },
                        {
                            id: "system_security",
                            visual: "🛡️",
                            title: "Protecting Against Threats",
                            description: "Keeping systems and people safe from bad actors",
                            weights: { "cybersecurity": 3, "devops": 2 }
                        },
                        {
                            id: "business_growth",
                            visual: "📈",
                            title: "Building Successful Companies",
                            description: "Turning innovative ideas into thriving businesses",
                            weights: { "startup_founder": 3, "product_management": 2 }
                        }
                    ]
                },
                {
                    id: 3,
                    type: "scale",
                    category: "work_environment",
                    question: "What's your ideal work setup?",
                    subtitle: "Research shows 60% prefer hybrid, 30% remote, 10% office-only",
                    context: "Work environment preferences are crucial for long-term job satisfaction",
                    scale: {
                        min: 1,
                        max: 5,
                        labels: {
                            1: "100% Remote",
                            2: "Mostly Remote",
                            3: "Hybrid (50/50)",
                            4: "Mostly Office",
                            5: "100% Office"
                        },
                        descriptions: {
                            1: "Complete location independence with async communication and flexible hours",
                            2: "Work from home most days with occasional in-person meetings and collaboration",
                            3: "Balanced mix of remote work and office time for optimal collaboration",
                            4: "Primarily office-based with some flexibility for remote work when needed",
                            5: "Full-time office presence for constant collaboration and immediate feedback"
                        },
                        weights: {
                            1: { "data_science": 3, "cybersecurity": 2, "software_engineering": 2 },
                            2: { "software_engineering": 3, "data_science": 2, "devops": 2 },
                            3: { "product_management": 3, "ux_design": 2, "devops": 2 },
                            4: { "product_management": 2, "ux_design": 3, "startup_founder": 2 },
                            5: { "startup_founder": 3, "product_management": 1 }
                        }
                    }
                },
                {
                    id: 4,
                    type: "text",
                    category: "motivation",
                    question: "Describe a time when you felt most engaged and energized at work or school:",
                    subtitle: "Your personal experiences reveal authentic motivation patterns",
                    context: "Qualitative responses provide insights that structured questions often miss",
                    placeholder: "Example: 'When I built a script that automated 3 hours of daily work for my team...'",
                    maxLength: 200
                },
                {
                    id: 5,
                    type: "ranking",
                    category: "daily_activities",
                    question: "Rank these daily activities from most to least appealing:",
                    subtitle: "Your preferences reveal optimal work environment and role type",
                    context: "Activity preferences strongly predict day-to-day job satisfaction",
                    items: [
                        {
                            id: "deep_coding",
                            title: "4+ hours of uninterrupted coding",
                            description: "Flow state, complex problem-solving, technical creation",
                            weights: { "software_engineering": 3, "data_science": 2 }
                        },
                        {
                            id: "user_research",
                            title: "Talking to users about their problems",
                            description: "Human connection, empathy, problem discovery",
                            weights: { "ux_design": 3, "product_management": 3 }
                        },
                        {
                            id: "system_architecture",
                            title: "Designing scalable system architecture",
                            description: "High-level thinking, technical strategy, optimization",
                            weights: { "devops": 3, "software_engineering": 2 }
                        },
                        {
                            id: "data_analysis",
                            title: "Analyzing data for business insights",
                            description: "Pattern recognition, statistical thinking, impact measurement",
                            weights: { "data_science": 3, "product_management": 2 }
                        },
                        {
                            id: "team_coordination",
                            title: "Coordinating projects across teams",
                            description: "Leadership, communication, strategic alignment",
                            weights: { "product_management": 3, "startup_founder": 2 }
                        },
                        {
                            id: "security_analysis",
                            title: "Identifying vulnerabilities and threats",
                            description: "Risk assessment, systematic thinking, protection focus",
                            weights: { "cybersecurity": 3, "devops": 1 }
                        }
                    ]
                },
                {
                    id: 6,
                    type: "multiple_choice",
                    category: "company_culture",
                    question: "Which company culture resonates most with you?",
                    subtitle: "Culture fit is the #1 predictor of long-term job satisfaction",
                    context: "Company culture misalignment is the top reason people leave jobs",
                    options: [
                        {
                            id: "startup",
                            title: "Fast-Paced Startup",
                            description: "Move fast, break things, wear many hats, high equity upside",
                            characteristics: ["High autonomy", "Rapid learning", "Uncertainty", "Potential huge rewards"],
                            weights: { "startup_founder": 3, "software_engineering": 2, "product_management": 1 }
                        },
                        {
                            id: "big_tech",
                            title: "Big Tech (FAANG-style)",
                            description: "Structured processes, amazing benefits, complex technical challenges",
                            characteristics: ["Clear career ladder", "Excellent mentorship", "Some bureaucracy", "Competitive"],
                            weights: { "software_engineering": 3, "data_science": 2, "devops": 2 }
                        },
                        {
                            id: "mission_driven",
                            title: "Mission-Driven Organization",
                            description: "Social impact, sustainability, education, healthcare focus",
                            characteristics: ["Purpose-driven", "Work-life balance", "Lower pay", "Meaningful work"],
                            weights: { "ux_design": 3, "product_management": 2, "data_science": 1 }
                        },
                        {
                            id: "enterprise",
                            title: "Established Enterprise",
                            description: "Stable environment, defined processes, gradual innovation",
                            characteristics: ["Job security", "Clear structure", "Slower pace", "Good benefits"],
                            weights: { "cybersecurity": 3, "devops": 2, "software_engineering": 1 }
                        }
                    ]
                }
                // Add more questions as needed...
            ]
        };

        // Timer functionality
        let questionTimer;

        function startQuestionTimer() {
            let seconds = 0;
            questionTimer = setInterval(() => {
                seconds++;
                const minutes = Math.floor(seconds / 60);
                const remainingSeconds = seconds % 60;
                document.getElementById('question-timer').textContent = 
                    `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        function stopQuestionTimer() {
            if (questionTimer) {
                clearInterval(questionTimer);
            }
        }

        // Screen management
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            QuizState.currentScreen = screenId;
        }

        // Start quiz
        function startQuiz() {
            QuizState.startTime = Date.now();
            QuizState.currentQuestionIndex = 0;
            QuizState.answers = [];
            showScreen('quiz-screen');
            displayQuestion();
            updateProgress();
            startQuestionTimer();
        }

        // Display current question
        function displayQuestion() {
            const question = QuizState.questions[QuizState.currentQuestionIndex];
            
            document.getElementById('question-type').textContent = getQuestionTypeLabel(question.type);
            document.getElementById('question-title').textContent = question.question;
            document.getElementById('question-subtitle').textContent = question.subtitle || '';
            document.getElementById('question-context').textContent = question.context || '';
            document.getElementById('current-question').textContent = QuizState.currentQuestionIndex + 1;
            document.getElementById('total-questions').textContent = QuizState.questions.length;

            const content = document.getElementById('question-content');
            content.innerHTML = '';

            switch (question.type) {
                case 'scenario':
                case 'visual_preference':
                case 'multiple_choice':
                    renderMultipleChoice(question, content);
                    break;
                case 'scale':
                    renderScale(question, content);
                    break;
                case 'text':
                    renderTextInput(question, content);
                    break;
                case 'ranking':
                    renderRanking(question, content);
                    break;
            }

            updateNavigation();
            QuizState.questionStartTime = Date.now();
        }

        function getQuestionTypeLabel(type) {
            const labels = {
                'scenario': 'Scenario Question',
                'visual_preference': 'Visual Preference',
                'scale': 'Scale Question',
                'text': 'Open Response',
                'ranking': 'Ranking Question',
                'multiple_choice': 'Multiple Choice'
            };
            return labels[type] || 'Question';
        }

        function renderMultipleChoice(question, container) {
            const optionsGrid = document.createElement('div');
            optionsGrid.className = 'options-grid';

            question.options.forEach(option => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.dataset.optionId = option.id;
                
                optionDiv.innerHTML = `
                    ${option.visual ? `<div class="option-visual">${option.visual}</div>` : ''}
                    <div class="option-content">
                        <h3>${option.title}</h3>
                        <p>${option.description}</p>
                    </div>
                    ${option.trend ? `<div class="option-trend">${option.trend}</div>` : ''}
                    ${option.characteristics ? `
                        <div class="option-characteristics">
                            ${option.characteristics.map(char => `<span class="characteristic-tag">${char}</span>`).join('')}
                        </div>
                    ` : ''}
                `;

                optionDiv.addEventListener('click', () => {
                    optionsGrid.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                    optionDiv.classList.add('selected');
                    saveAnswer(question.id, { selectedOption: option });
                });

                optionsGrid.appendChild(optionDiv);
            });

            container.appendChild(optionsGrid);
        }

        function renderScale(question, container) {
            const scaleContainer = document.createElement('div');
            scaleContainer.className = 'scale-container';

            const scale = question.scale;
            const defaultValue = Math.ceil((scale.min + scale.max) / 2);

            scaleContainer.innerHTML = `
                <div class="scale-labels">
                    <span>${scale.labels[scale.min]}</span>
                    <span>${scale.labels[scale.max]}</span>
                </div>
                <div class="scale-input-container">
                    <input type="range" class="scale-slider" min="${scale.min}" max="${scale.max}" value="${defaultValue}" id="scale-input">
                </div>
                <div class="scale-description" id="scale-description">${scale.descriptions[defaultValue]}</div>
                <div class="scale-value" id="scale-value">${scale.labels[defaultValue]}</div>
            `;

            const slider = scaleContainer.querySelector('#scale-input');
            const description = scaleContainer.querySelector('#scale-description');
            const valueDisplay = scaleContainer.querySelector('#scale-value');

            slider.addEventListener('input', () => {
                const value = parseInt(slider.value);
                description.textContent = scale.descriptions[value];
                valueDisplay.textContent = scale.labels[value];
                saveAnswer(question.id, { scaleValue: value });
            });

            // Save initial value
            saveAnswer(question.id, { scaleValue: defaultValue });

            container.appendChild(scaleContainer);
        }

        function renderTextInput(question, container) {
            const textContainer = document.createElement('div');
            textContainer.className = 'text-container';

            textContainer.innerHTML = `
                <textarea 
                    class="text-input" 
                    placeholder="${question.placeholder || 'Share your thoughts...'}"
                    maxlength="${question.maxLength || 500}"
                    id="text-input"
                ></textarea>
                <div class="text-footer">
                    <span class="char-counter">
                        <span id="char-count">0</span>/${question.maxLength || 500} characters
                    </span>
                    <span class="text-hint">Be specific - this helps us understand you better</span>
                </div>
            `;

            const textInput = textContainer.querySelector('#text-input');
            const charCount = textContainer.querySelector('#char-count');

            textInput.addEventListener('input', () => {
                charCount.textContent = textInput.value.length;
                saveAnswer(question.id, { textResponse: textInput.value });
            });

            container.appendChild(textContainer);
        }

        function renderRanking(question, container) {
            const rankingContainer = document.createElement('div');
            rankingContainer.className = 'ranking-container';

            // Shuffle items for unbiased ranking
            const shuffledItems = [...question.items].sort(() => Math.random() - 0.5);

            rankingContainer.innerHTML = `
                <div class="ranking-instructions">
                    Drag and drop to rank these items from most appealing (top) to least appealing (bottom)
                </div>
                <div class="ranking-labels">
                    <div class="rank-label">
                        <span>↑</span>
                        <span>Most Appealing</span>
                    </div>
                    <div class="rank-label">
                        <span>↓</span>
                        <span>Least Appealing</span>
                    </div>
                </div>
                <div class="ranking-list" id="ranking-list">
                    ${shuffledItems.map((item, index) => `
                        <div class="ranking-item" draggable="true" data-item-id="${item.id}">
                            <div class="ranking-number">${index + 1}</div>
                            <div class="ranking-content">
                                <h4>${item.title}</h4>
                                <p>${item.description}</p>
                            </div>
                            <div class="ranking-grip">⋮⋮</div>
                        </div>
                    `).join('')}
                </div>
            `;

            initializeDragAndDrop(rankingContainer.querySelector('#ranking-list'), question);
            container.appendChild(rankingContainer);
        }

        function initializeDragAndDrop(container, question) {
            let draggedElement = null;

            container.addEventListener('dragstart', (e) => {
                draggedElement = e.target.closest('.ranking-item');
                if (draggedElement) {
                    draggedElement.classList.add('dragging');
                }
            });

            container.addEventListener('dragend', (e) => {
                if (draggedElement) {
                    draggedElement.classList.remove('dragging');
                    updateRankingNumbers(container);
                    saveRankingAnswer(container, question);
                }
            });

            container.addEventListener('dragover', (e) => {
                e.preventDefault();
            });

            container.addEventListener('drop', (e) => {
                e.preventDefault();
                if (!draggedElement) return;

                const afterElement = getDragAfterElement(container, e.clientY);
                if (afterElement == null) {
                    container.appendChild(draggedElement);
                } else {
                    container.insertBefore(draggedElement, afterElement);
                }
            });
        }

        function getDragAfterElement(container, y) {
            const draggableElements = [...container.querySelectorAll('.ranking-item:not(.dragging)')];
            
            return draggableElements.reduce((closest, child) => {
                const box = child.getBoundingClientRect();
                const offset = y - box.top - box.height / 2;
                
                if (offset < 0 && offset > closest.offset) {
                    return { offset: offset, element: child };
                } else {
                    return closest;
                }
            }, { offset: Number.NEGATIVE_INFINITY }).element;
        }

        function updateRankingNumbers(container) {
            const items = container.querySelectorAll('.ranking-item');
            items.forEach((item, index) => {
                item.querySelector('.ranking-number').textContent = index + 1;
            });
        }

        function saveRankingAnswer(container, question) {
            const items = container.querySelectorAll('.ranking-item');
            const ranking = Array.from(items).map(item => item.dataset.itemId);
            saveAnswer(question.id, { ranking });
        }

        function saveAnswer(questionId, answerData) {
            const existingIndex = QuizState.answers.findIndex(a => a.questionId === questionId);
            const answer = {
                questionId,
                timestamp: Date.now(),
                timeTaken: QuizState.questionStartTime ? 
                    Math.round((Date.now() - QuizState.questionStartTime) / 1000) : 0,
                ...answerData
            };

            if (existingIndex >= 0) {
                QuizState.answers[existingIndex] = answer;
            } else {
                QuizState.answers.push(answer);
            }

            updateNavigation();
        }

        function updateNavigation() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');

            prevBtn.disabled = QuizState.currentQuestionIndex === 0;

            const currentQuestionId = QuizState.questions[QuizState.currentQuestionIndex].id;
            const hasAnswer = QuizState.answers.some(a => a.questionId === currentQuestionId);
            nextBtn.disabled = !hasAnswer;

            if (QuizState.currentQuestionIndex === QuizState.questions.length - 1) {
                nextBtn.textContent = 'Get AI Analysis →';
            } else {
                nextBtn.textContent = 'Next →';
            }
        }

        function updateProgress() {
            const progress = ((QuizState.currentQuestionIndex + 1) / QuizState.questions.length) * 100;
            document.getElementById('progress-fill').style.width = `${progress}%`;
        }

        function nextQuestion() {
            if (QuizState.currentQuestionIndex < QuizState.questions.length - 1) {
                QuizState.currentQuestionIndex++;
                displayQuestion();
                updateProgress();
            } else {
                finishQuiz();
            }
        }

        function previousQuestion() {
            if (QuizState.currentQuestionIndex > 0) {
                QuizState.currentQuestionIndex--;
                displayQuestion();
                updateProgress();
            }
        }

        function finishQuiz() {
            stopQuestionTimer();
            showScreen('loading-screen');
            animateLoading();

            // Simulate AI analysis
            setTimeout(() => {
                const results = generateMockResults();
                QuizState.results = results;
                displayResults();
                showScreen('results-screen');
            }, 3000);
        }

        function animateLoading() {
            const texts = [
                'Analyzing your personality patterns...',
                'Matching with ideal career paths...',
                'Generating personalized insights...',
                'Calculating market predictions...',
                'Finalizing recommendations...'
            ];

            let index = 0;
            const interval = setInterval(() => {
                if (index < texts.length) {
                    document.getElementById('loading-text').textContent = texts[index];
                    index++;
                } else {
                    clearInterval(interval);
                }
            }, 600);
        }

        function generateMockResults() {
            // Simple scoring algorithm for demo
            const careerScores = {};
            
            QuizState.answers.forEach(answer => {
                if (answer.selectedOption?.weights) {
                    Object.entries(answer.selectedOption.weights).forEach(([career, weight]) => {
                        careerScores[career] = (careerScores[career] || 0) + weight;
                    });
                }
                if (answer.scaleValue !== undefined) {
                    // Add scale scoring logic
                }
                if (answer.ranking) {
                    // Add ranking scoring logic
                }
            });

            const topCareer = Object.entries(careerScores)
                .sort(([,a], [,b]) => b - a)[0];

            const careerTitles = {
                'software_engineering': 'Software Engineer',
                'data_science': 'Data Scientist',
                'product_management': 'Product Manager',
                'ux_design': 'UX/UI Designer',
                'devops': 'DevOps Engineer',
                'cybersecurity': 'Cybersecurity Specialist',
                'startup_founder': 'Tech Entrepreneur'
            };

            const careerDescriptions = {
                'software_engineering': 'You excel at building robust, scalable applications and enjoy solving complex technical challenges through code.',
                'data_science': 'You have a natural affinity for finding patterns in data and translating insights into business value.',
                'product_management': 'You thrive at the intersection of technology and user needs, with strong strategic thinking skills.',
                'ux_design': 'You have a keen eye for user experience and excel at creating intuitive, delightful interfaces.',
                'devops': 'You enjoy building and maintaining the infrastructure that allows software teams to deploy reliably.',
                'cybersecurity': 'You have a systematic mindset and are passionate about protecting systems and data from threats.',
                'startup_founder': 'You have entrepreneurial instincts and enjoy building innovative solutions from the ground up.'
            };

            return {
                topMatch: {
                    career: topCareer ? topCareer[0] : 'software_engineering',
                    title: careerTitles[topCareer ? topCareer[0] : 'software_engineering'],
                    description: careerDescriptions[topCareer ? topCareer[0] : 'software_engineering'],
                    percentage: Math.round(Math.random() * 20 + 80) // 80-100%
                },
                insights: [
                    {
                        title: 'Work Style',
                        description: 'You prefer structured collaboration with clear goals and systematic approaches to problem-solving.'
                    },
                    {
                        title: 'Learning Preference',
                        description: 'You learn best through hands-on experience and direct application of new concepts.'
                    },
                    {
                        title: 'Motivation Driver',
                        description: 'You are most energized by solving complex technical challenges and seeing tangible results.'
                    }
                ],
                nextSteps: [
                    'Explore UC Davis computer science courses relevant to your career path',
                    'Join student organizations related to your field of interest',
                    'Connect with UC Davis career services for industry guidance',
                    'Consider internship opportunities in your recommended field'
                ],
                alternativeMatches: Object.entries(careerScores)
                    .sort(([,a], [,b]) => b - a)
                    .slice(1, 4)
                    .map(([career, score]) => ({
                        title: careerTitles[career] || career,
                        score: Math.round(score * 10)
                    }))
            };
        }

        function displayResults() {
            const results = QuizState.results;
            
            document.getElementById('top-career-name').textContent = results.topMatch.title;
            document.getElementById('top-career-description').textContent = results.topMatch.description;
            document.getElementById('match-percentage').textContent = `${results.topMatch.percentage}%`;

            // Animate percentage circle
            setTimeout(() => {
                const circle = document.querySelector('.progress-ring__circle');
                const circumference = 2 * Math.PI * 52;
                const offset = circumference - (results.topMatch.percentage / 100) * circumference;
                circle.style.strokeDasharray = `${circumference} ${circumference}`;
                circle.style.strokeDashoffset = offset;
            }, 500);

            // Populate next steps
            const nextStepsList = document.getElementById('next-steps-list');
            nextStepsList.innerHTML = results.nextSteps.map((step, index) => `
                <div class="step-item">
                    <div class="step-number">${index + 1}</div>
                    <div class="step-content">
                        <div class="step-title">${step}</div>
                        <div class="step-description">Recommended action based on your assessment</div>
                    </div>
                </div>
            `).join('');

            // Populate insights
            const insightsList = document.getElementById('insights-list');
            insightsList.innerHTML = results.insights.map(insight => `
                <div class="insight-item">
                    <div class="insight-icon">🧠</div>
                    <div class="insight-content">
                        <h4>${insight.title}</h4>
                        <p>${insight.description}</p>
                    </div>
                </div>
            `).join('');

            // Populate career matches
            const careerMatches = document.getElementById('career-matches');
            careerMatches.innerHTML = results.alternativeMatches.map(match => `
                <div class="match-item">
                    <div class="match-info">
                        <h4>${match.title}</h4>
                        <p>Alternative career path</p>
                    </div>
                    <div class="match-score">${match.score}%</div>
                </div>
            `).join('');
        }

        // Action functions
        function shareResults() {
            if (navigator.share && QuizState.results) {
                navigator.share({
                    title: 'My AI Tech Career Analysis',
                    text: `I'm ${QuizState.results.topMatch.percentage}% matched with ${QuizState.results.topMatch.title}! Discover your ideal tech career.`,
                    url: window.location.href
                });
            } else {
                const text = QuizState.results ? 
                    `I'm ${QuizState.results.topMatch.percentage}% matched with ${QuizState.results.topMatch.title}!` : 
                    'I just took an AI-powered tech career assessment!';
                navigator.clipboard.writeText(`${text} ${window.location.href}`).then(() => {
                    alert('Results copied to clipboard!');
                });
            }
        }

        function retakeQuiz() {
            QuizState.currentQuestionIndex = 0;
            QuizState.answers = [];
            QuizState.results = null;
            showScreen('intro-screen');
        }

        function exploreMore() {
            window.open('https://www.ucdavis.edu/academics', '_blank');
        }

        // Initialize quiz on page load
        document.addEventListener('DOMContentLoaded', () => {
            console.log('🚀 AI-Powered Tech Career Quiz loaded successfully');
                showScreen('level-selection');

        });
    </script>
</body>
</html>