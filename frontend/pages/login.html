<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cownect - Log In</title>
  <link rel="stylesheet" href="../styles/login.css">
  <link href="https://fonts.googleapis.com/css2?family=Rethink+Sans&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles/login.css" />
  <link rel="stylesheet" href="../styles/dark.css">
  <script src="../scripts/login.js" defer></script>
  <script src="../scripts/themeToggle.js" defer></script>


</head>

<body>
  <main role="main" class="background">
    <section class="login-box">
      <header>
        <h1>
          <img src="../assets/COW.png" alt="Cownect Logo featuring a cow" class="logo">
          Cownect
        </h1>
      </header>
      <form method="POST" action="/login" aria-describedby="login box">
        <label for="email">E-mail</label>
        <input type="email" id="email" name="email" required placeholder="user@ucdavis.edu" />

        <label for="password">Password</label>
        <input type="password" id="password" name="password" required placeholder="••••••••" />

        <button type="submit">Sign In</button>
      </form>
    </section>
  </main>
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const showError = urlParams.get('error');

    if (showError) {
      const form = document.querySelector('form');
      const errorMsg = document.createElement('p');
      errorMsg.textContent = "Incorrect email or password. Please try again.";
      errorMsg.style.color = "red";
      errorMsg.style.position = "relative";
      errorMsg.style.top = "40px";
      errorMsg.style.left = "15px";

      form.prepend(errorMsg);
    }
  </script>

  <button onclick="toggleDarkMode()">Toggle Dark Mode</button>

</body>

</html>